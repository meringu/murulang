int = @{ ("-")? ~ ASCII_DIGIT+ }
float = @{ int ~ "." ~ ASCII_DIGIT+ }
bool = { "true" | "false" }

literal = { int | float | bool }

variable = @{ ASCII_ALPHA ~ (ASCII_ALPHANUMERIC | "_")* }

operator = { add | subtract | multiply | divide | eq | neq }
    add      = { "+" }
    subtract = { "-" }
    multiply = { "*" }
    divide   = { "/" }
    eq       = { "==" }
    neq      = { "!=" }

argument = { "(" ~ expression ~ ")" | literal | variable }

call = { variable ~ (argument)* }

unary = { "(" ~ expression ~ ")" | literal | call }
binary = { unary ~ operator ~ unary }
ternary = { unary ~ "?" ~ unary ~ ":" ~ unary }
expression = { ternary | binary | unary }

assign = _{ "=" }
parameter = { variable | literal }
function = { variable ~ (parameter)* ~ assign ~ expression }

line_break = _{ "\n" }
comment = _{ "#" ~ (ASCII_ALPHANUMERIC | " " | "\t")* }
program = { SOI ~ (comment | function | line_break)* ~ EOI }

WHITESPACE =_{ " " | "\r" | "\t" }
